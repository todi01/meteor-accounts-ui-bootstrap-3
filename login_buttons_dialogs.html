<!-- vim:set ft=handlebars: -->
<body>
  {{> _resetPasswordDialog}}
  {{> _enrollAccountDialog}}
  {{> _justVerifiedEmailDialog}}
  {{> _configureLoginServiceDialog}}

  <!-- if we're not showing a dropdown, we need some other place to show messages -->
  {{> _loginButtonsMessagesDialog}}
</body>

<template name="_resetPasswordDialog">
  {{#if inResetPasswordFlow}}
    <div class="modal" id="login-buttons-reset-password-modal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">{{i18n 'ACCOUNTS_UI.RESET_YOUR_PASSWORD'}}</h4>
          </div>
          <div class="modal-body">
            <input id="reset-password-new-password" class="form-control" type="password" placeholder="{{i18n 'ACCOUNTS_UI.NEW_PASSWORD'}}"/>
            {{> _loginButtonsMessages}}
          </div>
          <div class="modal-footer">
            <a class="btn btn-default" id="login-buttons-cancel-reset-password">{{i18n 'ACCOUNTS_UI.CLOSE'}}</a>
            <button class="btn btn-primary" id="login-buttons-reset-password-button">
              {{i18n 'ACCOUNTS_UI.SET_A_PASSWORD'}}
            </button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dalog -->
    </div><!-- /.modal -->
  {{/if}}
</template>

<template name="_enrollAccountDialog">
  {{#if inEnrollAccountFlow}}
    <div class="modal" id="login-buttons-enroll-account-modal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">{{i18n 'ACCOUNTS_UI.CHOOSE_A_PASSWORD'}}</h4>
          </div>
          <div class="modal-body">
            <input id="enroll-account-password" class="form-control" type="password" placeholder="{{i18n 'ACCOUNTS_UI.NEW_PASSWORD'}}" />
            {{> _loginButtonsMessages}}
          </div>
          <div class="modal-footer">
            <a class="btn btn-default" id="login-buttons-cancel-enroll-account-button">{{i18n 'ACCOUNTS_UI.CLOSE'}}</a>
            <button class="btn btn-primary" id="login-buttons-enroll-account-button">
              {{i18n 'ACCOUNTS_UI.SET_A_PASSWORD'}}
            </button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dalog -->
    </div><!-- /.modal -->
  {{/if}}
</template>

<template name="_justVerifiedEmailDialog">
  {{#if visible}}
    <div class="modal" id="login-buttons-email-address-verified-modal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body">
            <h4><b>{{i18n 'ACCOUNTS_UI.EMAIL_VERIFIED'}}</b></h4>
          </div>
          <div class="modal-footer">
            <button class="btn btn-info login-button" id="just-verified-dismiss-button" data-dismiss="modal">{{i18n 'ACCOUNTS_UI.DISMISS'}}</button>
          </div>
        </div>
      </div>
    </div>
  {{/if}}
</template>

<template name="_configureLoginServiceDialog">
  {{#if visible}}
  <div class="modal" id="configure-login-service-dialog-modal">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <h4 class="modal-title">Configure Service</h4>
              </div>
              <div class="modal-body">
                  <div id="configure-login-service-dialog" class="accounts-dialog accounts-centered-dialog">
                      {{> configurationSteps}}
                      <p>
                      Now, copy over some details.
                      </p>
                      <p>
                      <table>
                          <colgroup>
                              <col span="1" class="configuration_labels">
                              <col span="1" class="configuration_inputs">
                          </colgroup>
                          {{#each configurationFields}}
                          <tr>
                              <td>
                                  <label for="configure-login-service-dialog-{{property}}">{{label}}</label>
                              </td>
                              <td>
                                  <input id="configure-login-service-dialog-{{property}}" type="text" />
                              </td>
                          </tr>
                          {{/each}}
                      </table>
                      </p>
                  </div>
              </div>
              <div class="modal-footer new-section">
                  <div class="login-button btn btn-danger configure-login-service-dismiss-button">
                      I'll do this later
                  </div>
                  <div class="login-button login-button-configure btn btn-success {{#if saveDisabled}}login-button-disabled{{/if}}"
                      id="configure-login-service-dialog-save-configuration">
                      Save Configuration
                  </div>
              </div>
          </div>
      </div>
  </div>
  {{/if}}
</template>

<template name="_loginButtonsMessagesDialog">
  {{#if visible}}
    <div class="accounts-dialog accounts-centered-dialog" id="login-buttons-message-dialog">
      {{> _loginButtonsMessages}}
      <div class="login-button" id="messages-dialog-dismiss-button">{{i18n 'ACCOUNTS_UI.DISMISS'}}</div>
    </div>
  {{/if}}
</template>
